!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers},(n=[{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addcards",value:function(e){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.place,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editAvatarProfile",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.avatarLink})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}}])&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}(),o=(document.querySelector("#popup-profile"),document.querySelector("#input-name"),document.querySelector("#input-title"),document.querySelector("#input-link"),document.querySelector("#input-img"),document.querySelector("#popup-add"),document.querySelector("#popup-img"),document.querySelector(".profile__info"),document.querySelector(".profile__title"),document.querySelector(".popup__button-create"),document.querySelectorAll(".popup__input"),document.querySelector(".profile__edit")),i=document.querySelector("#profile-form"),u=document.querySelector(".profile__add"),c=document.querySelector(".elements"),a=document.querySelector("#elements-form"),l=(document.querySelectorAll(".popup"),document.querySelector("#profile__avatar-edit")),s=document.querySelector("#profile-avatar-form");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var m=function(){return e=function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=t._id,this._likes=t.likes,this._owner=t.owner,this._userId=r,this._cardId=t._id,this._element=this._getTemplate(),this._handleClickCard=n,this._handleDeleteCard=o,this._handleLikeCard=i,this._handleRemovelike=u},(t=[{key:"_getTemplate",value:function(){return document.querySelector(".template__elements").content.querySelector(".elements__container").cloneNode(!0)}},{key:"_setProperties",value:function(){var e=this;this._elementImage=this._element.querySelector(".elements__place-image"),this._elementName=this._element.querySelector(".elements__text"),this._likeBtn=this._element.querySelector(".elements__like"),this._dltBtn=this._element.querySelector(".elements__delete"),this._imgBtn=this._element.querySelector(".elements__place-image"),this._fullImg=document.querySelector(".popup__fullImg"),this._footerimg=document.querySelector(".popup__footer"),this._elementImage.src=this._link,this._elementName.textContent=this._name,this._popupImg=document.querySelector("#popup-img"),this._likes.some((function(t){return t._id===e._userId}))&&this._likeBtn.classList.toggle("elements__like-active"),this._likesCounter=this._element.querySelector(".elements__likes-number"),this._likesCounter.textContent=this._likes.length,this._elementImage.alt=this._name,this._element.id="id_".concat(this._cardId)}},{key:"_handleLike",value:function(){this._likeBtn.classList.toggle("elements__like-active")}},{key:"_changeLikeCounter",value:function(e){this._likes=e,this._likesCounter.textContent=e.length}},{key:"_handleDelete",value:function(){this._element.remove()}},{key:"handleOpenCard",value:function(){this.handleCardClick(this._name,this._link)}},{key:"_setListeners",value:function(){var e=this;this._likeBtn.addEventListener("click",(function(){e._likes.some((function(t){return t._id===e._userId}))?(e._handleRemovelike(e._cardId).then((function(t){e._changeLikeCounter(t.likes)})),e._likeBtn.classList.toggle("elements__like-active")):(e._handleLikeCard(e._cardId).then((function(t){e._changeLikeCounter(t.likes)})),e._likeBtn.classList.toggle("elements__like-active"))})),this._dltBtn.addEventListener("click",(function(){e._handleDeleteCard(e._cardId)})),this._imgBtn.addEventListener("click",(function(){e._handleClickCard(e._link,e._name)}))}},{key:"generateCard",value:function(){return this._setProperties(),this._setListeners(),this._element}}])&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var b=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formElement=t,this.formSelector=n.formSelector,this.inputSelector=n.inputSelector,this.submitButtonSelector=n.submitButtonSelector,this.inactiveButtonClass=n.inactiveButtonClass,this.inputErrorClass=n.inputErrorClass,this.errorClass=n.errorClass,this.buttonElement=this.formElement.querySelector(n.submitButtonSelector),this.inputList=Array.from(this.formElement.querySelectorAll(this.inputSelector)),this._toggleButtonState()},(t=[{key:"_showInputError",value:function(e){var t=this.formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this.inputErrorClass),"Please fill in this field."==e.validationMessage?t.textContent="Preencha o campo.":"Please lengthen this text to 2 characters or more (you are currently using 1 character)."==e.validationMessage?t.textContent="Esse texto precisa ter 2 caracteres ou mais.":"Please enter a URL."==e.validationMessage&&(t.textContent="Entre com um endereÃ§o na Web."),t.classList.add(this.errorClass)}},{key:"_hideInputError",value:function(e){var t=this.formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this.inputErrorClass),t.classList.remove(this.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this.inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this.buttonElement.classList.add(this.inactiveButtonClass),this.buttonElement.disabled=!0):(this.buttonElement.classList.remove(this.inactiveButtonClass),this.buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this.formElement.addEventListener("submit",(function(e){e.preventDefault()})),this.inputList.forEach((function(t){t.addEventListener("input",(function(){e._toggleButtonState(),e._checkInputValidity(t)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}var k=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=n},(t=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}var j=function(){return e=function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=C(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popupSelector=document.querySelector(t),this.setEventListeners()},(t=[{key:"open",value:function(){this._popupSelector.classList.add("popup__show"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup__show"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.querySelector(".popup__close-button").addEventListener("click",(function(){e.close()})),this._popupSelector.querySelector(".popup__overlay").addEventListener("click",(function(){e.close()}))}}])&&E(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function q(e,t,n){return t=x(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function T(e,t,n,r){var o=B(x(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(null,arguments)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}var R=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=q(this,t,[e]))._handleSubmit=n,r._formelement=r._popupSelector.querySelector(".popup__form"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),n=t,(r=[{key:"getUserInfo",value:function(){var e=document.querySelector(this._popupSelector).querySelector("form"),t={name:document.querySelector(".profile__info").textContent,about:document.querySelector(".profile__title").textContent};Array.from(e.elements).forEach((function(e){e.name&&(e.value=t[e.name])}))}},{key:"getInputValues",value:function(){var e={};return this._formelement.querySelectorAll(".popup__input").forEach((function(t){e[t.name]=t.value})),console.log(e),e}},{key:"close",value:function(){T(t,"close",this,3)([]),this.toggleTextButton()}},{key:"toggleTextButton",value:function(){var e=this._popupSelector.querySelector(".popup__button"),t="";"Salvar"===e.textContent.trim()?t="Salvando...":"Criar"===e.textContent.trim()?t="Criando...":"Salvando..."===e.textContent.trim()?t="Salvar":"Criando..."===e.textContent.trim()&&(t="Criar"),e.textContent=t}},{key:"setEventListeners",value:function(){var e=this;T(t,"setEventListeners",this,3)([]),this._popupSelector.querySelector("form").addEventListener("submit",(function(t){t.preventDefault(),e.toggleTextButton(),e._handleSubmit(e.getInputValues()),e.close()}))}}])&&O(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(j);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function V(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}function N(e,t,n){return t=H(t),function(e,t){if(t&&("object"==D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J()?Reflect.construct(t,n||[],H(e).constructor):t.apply(e,n))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}function M(e,t,n,r){var o=G(H(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function G(){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},G.apply(null,arguments)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}var F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=N(this,t,[e])).handleCardClick=n.handleCardClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),n=t,(r=[{key:"handleCardClick",value:function(e,n){this._showImage=document.querySelector(".popup__fullImg"),this._showSubtitle=document.querySelector(".popup__footer"),this._showImage.alt="Fotografia de ".concat(e),this._showImage.src=n,this._showSubtitle.textContent=e,M(t,"open",this,3)([])}},{key:"close",value:function(){M(t,"close",this,3)([])}},{key:"setEventListeners",value:function(){M(t,"setEventListeners",this,3)([])}}])&&A(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(j);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Q(e){var t=function(e){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}var X=function(){return e=function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._title=document.querySelector(r),this._avatar=document.querySelector(o)},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._title.textContent,userAvatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){e&&(this._name.textContent=e.name,this._title.textContent=e.about,e.avatar&&(this._avatar.src=e.avatar),e._id&&(this._userId=e._id))}}])&&K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function $(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}function ee(e,t,n){return t=oe(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,te()?Reflect.construct(t,n||[],oe(e).constructor):t.apply(e,n))}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}function ne(e,t,n,r){var o=re(oe(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function re(){return re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},re.apply(null,arguments)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}var ue=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ee(this,t,[e]))._handleConfirmation=n,r._formElement=document.querySelector(".popup__form-confirmation"),r.cardId="",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),n=t,(r=[{key:"setEventListeners",value:function(){var e=this;ne(t,"setEventListeners",this,3)([]),document.querySelector(".popup__form-confirmation").addEventListener("submit",(function(n){n.preventDefault(),e._handleConfirmation(e.cardId),ne(t,"close",e,3)([])}))}},{key:"open",value:function(e){this.cardId=e,ne(t,"open",this,3)([])}},{key:"close",value:function(){ne(t,"close",this,3)([])}}])&&Z(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(j),ce=new X({name:".profile__info",about:".profile__title",avatar:".profile__avatar"}),ae=new r({baseUrl:"https://around.nomoreparties.co/v1/web-ptbr-cohort-12",headers:{authorization:" 55878f5d-532c-423a-a4a7-6c74dc5acc4e","Content-Type":"application/json"}});ae.getUserInfo().then((function(e){ce.setUserInfo(e),ae.getInitialCards().then((function(e){var t=new k({items:e,renderer:function(e){var n=new m(e,(function(){pe.handleCardClick(e.name,e.link)}),ce._userId,(function(){ye.open(e._id)}),(function(){return ae.addLike(e._id)}),(function(){return ae.removeLike(e._id)})).generateCard();t.addItem(n)}},c);t.renderItems()}))}));var le=new R("#popup-add",(function(e){console.log(e),e.link&&ae.addcards(e).then((function(e){var t=new m(e,(function(){pe.handleCardClick(item.name,item.link)}),ce._userId,(function(){ye.open(e._id)}),(function(e){return ae.addLike(e)}),(function(e){return ae.removeLike(e)})).generateCard();c.prepend(t),le.close()}))})),se=new R("#popup-profile",(function(e){ae.editProfile(e).then((function(e){ce.setUserInfo(e),se.close()}))}));se.setEventListeners();var fe=new R("#popup-avatar-profile",(function(e){ae.editAvatarProfile(e).then((function(e){ce.setUserInfo(e),fe.close()}))}));fe.setEventListeners();var pe=new F("#popup-img");pe.setEventListeners();var ye=new ue("#popup-delete-confirmation",(function(e){ae.deleteCard(e).then((function(){ye.close();var t=document.querySelector("#id_".concat(e));t&&t.remove()}))}));ye.setEventListeners(),o.addEventListener("click",(function(){se.open(),se.getUserInfo,me.enableValidation()})),l.addEventListener("click",(function(){fe.open()})),u.addEventListener("click",(function(){le.open()}));var me=new b(a,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}),de=new b(i,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}),he=new b(s,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"});me.enableValidation(),de.enableValidation(),he.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBcbiAgXG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkY2FyZHMoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5wbGFjZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG4gIGVkaXRQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBlZGl0QXZhdGFyUHJvZmlsZShkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJMaW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAgICAgIFxuICAgICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwb3BVcFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLXByb2ZpbGVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC1uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LXRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgZWxlbWVudExpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtbGlua1wiKTtcclxuZXhwb3J0IGNvbnN0IGVsZW1lbnROYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LWltZ1wiKTtcclxuZXhwb3J0IGNvbnN0IHBvcFVwQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtaW1nXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm9cIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY3JlYXRlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlucHV0U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgYnRuQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBlbGVtZW50QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VsZW1lbnRzLWZvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19hdmF0YXItZWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYXZhdGFyLWZvcm1cIik7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfeW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhbmhhcyBDYXJlY2FzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGEgVmFub2lzZSBcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcblxyXG5cclxuLy9vcGVuIGNsb3NlIHByb2ZpbGUgcHJvZmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaW5wdXQtdGl0bGUtZXJyb3IgcG9wdXBfX2Vycm9yXCJcclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5Qcm9maWxlKCkge1xyXG4gIHBvcFVwUHJvZmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwicG9wdXBfX3Nob3dcIik7XHJcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gIHByb2ZpbGVBYm91dElucHV0LnZhbHVlID0gcHJvZmlsZUFib3V0LnRleHRDb250ZW50O1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzYyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQWxsKCkge1xyXG4gIHBvcFVwUHJvZmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX3Nob3dcIik7XHJcbiAgZWxlbWVudExpbmtJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgZWxlbWVudE5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgcG9wVXBBZGQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19zaG93XCIpO1xyXG4gIHBvcHVwSW1nLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fc2hvd1wiKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2MpO1xyXG4gIFxyXG4gIGlucHV0U2VsZWN0b3IuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiKTtcclxuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICB9KTtcclxuICBidXR0b25TZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRXNjKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjbG9zZUFsbCgpO1xyXG4gICAgY29uc29sZS5sb2coXCJGb2kgcHJlc3Npb25hZG8gRVNDXCIpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUNoYW5nZXMoZXZ0KSB7XHJcbiAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlTmFtZUlucHV0LnZhbHVlO1xyXG4gIHByb2ZpbGVBYm91dC50ZXh0Q29udGVudCA9IHByb2ZpbGVBYm91dElucHV0LnZhbHVlO1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNsb3NlQWxsKCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5BZGQoKSB7XHJcbiAgcG9wVXBBZGQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19zaG93XCIpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzYyk7XHJcbn1cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IHsgY2xvc2VBbGwsIGhhbmRsZUVzYyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoIGl0ZW0sIGhhbmRsZUNsaWNrQ2FyZCwgdXNlcklkLCBoYW5kbGVEZWxldGVDYXJkLCBoYW5kbGVMaWtlQ2FyZCwgaGFuZGxlUmVtb3ZlTGlrZSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGl0ZW0ubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XHJcbiAgICB0aGlzLl9pZCA9IGl0ZW0uX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBpdGVtLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXIgPSBpdGVtLm93bmVyO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fY2FyZElkID0gaXRlbS5faWQ7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2hhbmRsZUNsaWNrQ2FyZCA9IGhhbmRsZUNsaWNrQ2FyZDtcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcclxuICAgIHRoaXMuX2hhbmRsZVJlbW92ZWxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xyXG4gICAgXHJcbiAgfVxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi50ZW1wbGF0ZV9fZWxlbWVudHNcIilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY29udGFpbmVyXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG4gIF9zZXRQcm9wZXJ0aWVzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19wbGFjZS1pbWFnZVwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZVwiKTtcclxuICAgIHRoaXMuX2RsdEJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5faW1nQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19wbGFjZS1pbWFnZVwiKTtcclxuICAgIHRoaXMuX2Z1bGxJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mdWxsSW1nXCIpO1xyXG4gICAgdGhpcy5fZm9vdGVyaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9vdGVyXCIpO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50TmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9wb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtaW1nXCIpO1xyXG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWFjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZXMtbnVtYmVyXCIpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50LmlkID0gYGlkXyR7dGhpcy5fY2FyZElkfWA7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWFjdGl2ZVwiKTtcclxuICB9XHJcbiAgX2NoYW5nZUxpa2VDb3VudGVyKG5ld0FycmF5TGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3QXJyYXlMaWtlcztcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IG5ld0FycmF5TGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuICBfaGFuZGxlRGVsZXRlKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbiAgaGFuZGxlT3BlbkNhcmQoKSB7XHJcbiAgICB0aGlzLmhhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICB9XHJcbiAgX3NldExpc3RlbmVycygpIHtcclxuICAgIFxyXG4gICAgdGhpcy5fbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVsaWtlKHRoaXMuX2NhcmRJZCkudGhlbigoY2FyZFdpdGhMaWtlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9jaGFuZ2VMaWtlQ291bnRlcihjYXJkV2l0aExpa2UubGlrZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWFjdGl2ZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCh0aGlzLl9jYXJkSWQpLnRoZW4oKGNhcmRXaXRoTGlrZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hhbmdlTGlrZUNvdW50ZXIoY2FyZFdpdGhMaWtlLmxpa2VzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50c19fbGlrZS1hY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZGx0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZElkKTtcclxuICAgICAgLy90aGlzLl9oYW5kbGVEZWxldGUoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5faW1nQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNsaWNrQ2FyZCh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBcclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9zZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIHNldHRpbmdzKSB7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLmZvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuaW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLmluYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLmVycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5idXR0b25FbGVtZW50ID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlID09IFwiUGxlYXNlIGZpbGwgaW4gdGhpcyBmaWVsZC5cIikge1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlByZWVuY2hhIG8gY2FtcG8uXCI7XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UgPT1cclxuICAgICAgXCJQbGVhc2UgbGVuZ3RoZW4gdGhpcyB0ZXh0IHRvIDIgY2hhcmFjdGVycyBvciBtb3JlICh5b3UgYXJlIGN1cnJlbnRseSB1c2luZyAxIGNoYXJhY3RlcikuXCJcclxuICAgICkge1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkVzc2UgdGV4dG8gcHJlY2lzYSB0ZXIgMiBjYXJhY3RlcmVzIG91IG1haXMuXCI7XHJcbiAgICB9IGVsc2UgaWYgKGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSA9PSBcIlBsZWFzZSBlbnRlciBhIFVSTC5cIikge1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkVudHJlIGNvbSB1bSBlbmRlcmXDp28gbmEgV2ViLlwiO1xyXG4gICAgfVxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjYXJkQ29udGFpbmVyKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY2FyZENvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICBvcGVuKCkge1xyXG4gICBcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcInBvcHVwX19zaG93XCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgXHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fc2hvd1wiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgIFxyXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fb3ZlcmxheVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgLy8gdGhpcy5nZXRVc2VySW5mbygpO1xyXG4gICAgXHJcbiAgICB0aGlzLl9mb3JtZWxlbWVudCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKSA7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCl7XHJcbiAgICBjb25zdCBwb3B1cE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2VsZWN0b3IpO1xyXG4gICAgY29uc3QgZm9ybSA9IHBvcHVwT3Blbi5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcclxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm9cIikudGV4dENvbnRlbnQ7XHJcbiAgICBjb25zdCBhYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIikudGV4dENvbnRlbnQ7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9ICB7bmFtZSwgYWJvdXR9O1xyXG4gICAgY29uc3QgaW5wdXRGb3JtcyA9IEFycmF5LmZyb20oZm9ybS5lbGVtZW50cyk7XHJcbiAgICBpbnB1dEZvcm1zLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnQubmFtZSkge1xyXG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSAgaW5wdXRWYWx1ZXNbZWxlbWVudC5uYW1lXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGdldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGNvbnN0IGlucHV0Rm9ybXMgPSB0aGlzLl9mb3JtZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIGlucHV0Rm9ybXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tlbGVtZW50Lm5hbWVdID0gZWxlbWVudC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coaW5wdXRWYWx1ZXMpO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLnRvZ2dsZVRleHRCdXR0b24oKTtcclxuICAgIFxyXG4gIH1cclxuICB0b2dnbGVUZXh0QnV0dG9uKCl7XHJcbiAgICBjb25zdCB0ZXh0QnV0dG9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICBsZXQgdGV4dHRvZ2dsZSA9IFwiXCI7XHJcbiAgICBpZiAodGV4dEJ1dHRvbi50ZXh0Q29udGVudC50cmltKCkgPT09IFwiU2FsdmFyXCIpe1xyXG4gICAgICB0ZXh0dG9nZ2xlID0gXCJTYWx2YW5kby4uLlwiO1xyXG4gICAgfWVsc2UgaWYgKHRleHRCdXR0b24udGV4dENvbnRlbnQudHJpbSgpID09PSBcIkNyaWFyXCIpe1xyXG4gICAgICB0ZXh0dG9nZ2xlID0gXCJDcmlhbmRvLi4uXCI7XHJcbiAgICB9ZWxzZSBpZiAodGV4dEJ1dHRvbi50ZXh0Q29udGVudC50cmltKCkgPT09IFwiU2FsdmFuZG8uLi5cIil7XHJcbiAgICAgIHRleHR0b2dnbGUgPSBcIlNhbHZhclwiO1xyXG4gICAgfWVsc2UgaWYgKHRleHRCdXR0b24udGV4dENvbnRlbnQudHJpbSgpID09PSBcIkNyaWFuZG8uLi5cIil7XHJcbiAgICAgIHRleHR0b2dnbGUgPSBcIkNyaWFyXCI7XHJcbiAgICB9XHJcbiAgICB0ZXh0QnV0dG9uLnRleHRDb250ZW50ID0gdGV4dHRvZ2dsZTtcclxuICB9XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgY29uc3QgZm9ybSA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZVRleHRCdXR0b24oKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICBcclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2sgPSB0aGlzLmhhbmRsZUNhcmRDbGljay5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5fc2hvd0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZnVsbEltZ1wiKTtcclxuICAgIHRoaXMuX3Nob3dTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvb3RlclwiKTtcclxuICAgIHRoaXMuX3Nob3dJbWFnZS5hbHQgPSBgRm90b2dyYWZpYSBkZSAke25hbWV9YDtcclxuICAgIHRoaXMuX3Nob3dJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fc2hvd1N1YnRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX3RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX3RpdGxlLnRleHRDb250ZW50LFxyXG4gICAgICB1c2VyQXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxyXG4gICAgfTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgaWYgKGRhdGEpe1xyXG4gICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICAgIGlmIChkYXRhLmF2YXRhcikge1xyXG4gICAgICAgIHRoaXMuX2F2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGF0YS5faWQpIHtcclxuICAgICAgICB0aGlzLl91c2VySWQgPSBkYXRhLl9pZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUNvbmZpcm1hdGlvbikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1hdGlvbiA9IGhhbmRsZUNvbmZpcm1hdGlvbjtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tY29uZmlybWF0aW9uXCIpO1xuICAgIHRoaXMuY2FyZElkID0gXCJcIjtcbiAgICBcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgLy8gdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1jb25maXJtYXRpb25cIikuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7ICBcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybWF0aW9uKHRoaXMuY2FyZElkKTtcbiAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBvcGVuKGNhcmRJZCkge1xuICAgIHRoaXMuY2FyZElkID0gY2FyZElkO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBBcGkgZnJvbSBcIi4vc2NyaXB0cy9hcGkuanNcIjtcclxuaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL3NjcmlwdHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHtcclxuICBjbG9zZUFsbCxcclxuICBoYW5kbGVFc2MsXHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGJ0bkVkaXQsXHJcbiAgZm9ybVByb2ZpbGUsXHJcbiAgYnRuQWRkLFxyXG4gIGVsZW1lbnRBcmVhLFxyXG4gIGZvcm1FbGVtZW50cyxcclxuICBwb3B1cHMsXHJcbiAgYXZhdGFyQnRuLFxyXG4gIGZvcm1BdmF0YXIsXHJcbiAgXHJcbn0gZnJvbSBcIi4vc2NyaXB0cy91dGlscy5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vc2NyaXB0cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuL3NjcmlwdHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogXCIucHJvZmlsZV9faW5mb1wiLFxyXG4gIGFib3V0OiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIGF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbn0pO1xyXG5cclxuXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViLXB0YnItY29ob3J0LTEyXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIgNTU4NzhmNWQtNTMyYy00MjNhLWE0YTctNmM3NGRjNWFjYzRlXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vSW5pdGlhbCBjYXJkcyBsb2dpY1xyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKChyZXN1bHQpID0+IHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xyXG5cclxuICBhcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IHJlc3VsdCxcclxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNhcmRzID0gbmV3IENhcmQoXHJcbiAgICAgICAgICAgIGl0ZW0sXHJcblxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgcG9wdXBQaWN0dXJlLmhhbmRsZUNhcmRDbGljayhpdGVtLm5hbWUsIGl0ZW0ubGluayk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVzZXJJbmZvLl91c2VySWQsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24ub3BlbihpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+IGFwaS5hZGRMaWtlKGl0ZW0uX2lkKSxcclxuICAgICAgICAgICAgKCkgPT4gYXBpLnJlbW92ZUxpa2UoaXRlbS5faWQpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkcy5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBlbGVtZW50QXJlYVxyXG4gICAgKTtcclxuXHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vIEFkZCBjYXJkcyBsb2dpY1xyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwb3B1cC1hZGRcIiwgKGlucHV0KSA9PiB7XHJcbiAgY29uc29sZS5sb2coaW5wdXQpO1xyXG4gIGlmIChpbnB1dC5saW5rKXtcclxuICAgIGFwaS5hZGRjYXJkcyhpbnB1dCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgcG9wdXBQaWN0dXJlLmhhbmRsZUNhcmRDbGljayhpdGVtLm5hbWUsIGl0ZW0ubGluayk7XHJcbiAgICAgICAgfSxcclxuICBcclxuICAgICAgICB1c2VySW5mby5fdXNlcklkLFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIHBvcHVwV2l0aENvbmZpcm1hdGlvbi5vcGVuKHJlc3VsdC5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH0sXHJcbiAgXHJcbiAgICAgICAgKGNhcmRJZCkgPT4gYXBpLmFkZExpa2UoY2FyZElkKSxcclxuICAgICAgICAoY2FyZElkKSA9PiBhcGkucmVtb3ZlTGlrZShjYXJkSWQpXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IG5ld0NhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgZWxlbWVudEFyZWEucHJlcGVuZChuZXdDYXJkRWxlbWVudCk7XHJcbiAgICAgIHBvcHVwQWRkQ2FyZC5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG59KTtcclxuXHJcbi8vcG9wdXAgcHJvZmlsZVxyXG5jb25zdCBwb3B1cFByb2ZpbGUxID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtcHJvZmlsZVwiLCAoaW5wdXRzKSA9PiB7XHJcbiAgYXBpLmVkaXRQcm9maWxlKGlucHV0cykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xyXG4gICAgcG9wdXBQcm9maWxlMS5jbG9zZSgpO1xyXG4gIH0pO1xyXG59KTtcclxucG9wdXBQcm9maWxlMS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9wb3B1cCBBdmF0YXJcclxuY29uc3QgcG9wdXBBdmF0YXJQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcG9wdXAtYXZhdGFyLXByb2ZpbGVcIixcclxuICAoaW5wdXRzKSA9PiB7XHJcbiAgICBhcGkuZWRpdEF2YXRhclByb2ZpbGUoaW5wdXRzKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzdWx0KTtcclxuICAgICAgcG9wdXBBdmF0YXJQcm9maWxlLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbik7XHJcbnBvcHVwQXZhdGFyUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbi8vcG9wdXAgaW1hZ2VcclxuY29uc3QgcG9wdXBQaWN0dXJlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwLWltZ1wiKTtcclxucG9wdXBQaWN0dXJlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL3BvcHVwIGNvbmZpcm1hdGlvblxyXG5jb25zdCBwb3B1cFdpdGhDb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxyXG4gIFwiI3BvcHVwLWRlbGV0ZS1jb25maXJtYXRpb25cIixcclxuICAoY2FyZFRvRGVsZXRlKSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkVG9EZWxldGUpLnRoZW4oKCkgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24uY2xvc2UoKTtcclxuICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNpZF8ke2NhcmRUb0RlbGV0ZX1gKTtcclxuICAgICAgaWYgKGNhcmQpe1xyXG4gICAgICAgIGNhcmQucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuKTtcclxucG9wdXBXaXRoQ29uZmlybWF0aW9uLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBFdmVudGxpc3RlbmVyIG9mIGVkaXQgYnV0dG9uXHJcbmJ0bkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwb3B1cFByb2ZpbGUxLm9wZW4oKTtcclxuICBwb3B1cFByb2ZpbGUxLmdldFVzZXJJbmZvO1xyXG4gIHZhbGlkYXRlRm9ybTEuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIFxyXG59KTtcclxuLy8gRXZlbnRsaXN0ZW5lciBvZiBhdmF0YXIgYnV0dG9uXHJcbmF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIHBvcHVwQXZhdGFyUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gRXZlbnRsaXN0ZW5lciBvZiBBZGQgYnV0dG9uXHJcbmJ0bkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIHBvcHVwQWRkQ2FyZC5vcGVuKCk7XHJcbn0pOyAgXHJcblxyXG5cclxuLy9WYWxpZGF0aW9uIG9mIGZvcm1zXHJcbmNvbnN0IHZhbGlkYXRlRm9ybTEgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudHMsIHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXHJcbn0pO1xyXG5jb25zdCB2YWxpZGF0ZUZvcm0yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVByb2ZpbGUsIHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXHJcbn0pO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1BdmF0YXIsIHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXHJcbn0pO1xyXG52YWxpZGF0ZUZvcm0xLmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdGVGb3JtMi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwibmFtZXMiOlsiQXBpIiwib3B0aW9ucyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJiYXNlVXJsIiwiaGVhZGVycyIsImtleSIsInZhbHVlIiwiZmV0Y2giLCJjb25jYXQiLCJtZXRob2QiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5hbWUiLCJwbGFjZSIsImxpbmsiLCJjYXJkSWQiLCJhYm91dCIsImF2YXRhciIsImF2YXRhckxpbmsiLCJidG5FZGl0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1Qcm9maWxlIiwiYnRuQWRkIiwiZWxlbWVudEFyZWEiLCJmb3JtRWxlbWVudHMiLCJhdmF0YXJCdG4iLCJmb3JtQXZhdGFyIiwiQ2FyZCIsIml0ZW0iLCJoYW5kbGVDbGlja0NhcmQiLCJ1c2VySWQiLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUNhcmQiLCJoYW5kbGVSZW1vdmVMaWtlIiwiX25hbWUiLCJfbGluayIsIl9pZCIsIl9saWtlcyIsImxpa2VzIiwiX293bmVyIiwib3duZXIiLCJfdXNlcklkIiwiX2NhcmRJZCIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2hhbmRsZUNsaWNrQ2FyZCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2hhbmRsZUxpa2VDYXJkIiwiX2hhbmRsZVJlbW92ZWxpa2UiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RoaXMiLCJfZWxlbWVudEltYWdlIiwiX2VsZW1lbnROYW1lIiwiX2xpa2VCdG4iLCJfZGx0QnRuIiwiX2ltZ0J0biIsIl9mdWxsSW1nIiwiX2Zvb3RlcmltZyIsInNyYyIsInRleHRDb250ZW50IiwiX3BvcHVwSW1nIiwic29tZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9saWtlc0NvdW50ZXIiLCJsZW5ndGgiLCJhbHQiLCJpZCIsIm5ld0FycmF5TGlrZXMiLCJyZW1vdmUiLCJoYW5kbGVDYXJkQ2xpY2siLCJfdGhpczIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FyZFdpdGhMaWtlIiwiX2NoYW5nZUxpa2VDb3VudGVyIiwiX3NldFByb3BlcnRpZXMiLCJfc2V0TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50Iiwic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImJ1dHRvbkVsZW1lbnQiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiU2VjdGlvbiIsIl9yZWYiLCJjYXJkQ29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcHBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjbG9zZSIsIl9wb3B1cFNlbGVjdG9yIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsInNlbGVjdG9yIiwiaGFuZGxlU3VibWl0IiwiX2NhbGxTdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybWVsZW1lbnQiLCJfaW5oZXJpdHMiLCJmb3JtIiwiaW5wdXRWYWx1ZXMiLCJlbGVtZW50cyIsIl9zdXBlclByb3BHZXQiLCJ0b2dnbGVUZXh0QnV0dG9uIiwidGV4dEJ1dHRvbiIsInRleHR0b2dnbGUiLCJ0cmltIiwiZ2V0SW5wdXRWYWx1ZXMiLCJQb3B1cFdpdGhJbWFnZSIsImJpbmQiLCJfc2hvd0ltYWdlIiwiX3Nob3dTdWJ0aXRsZSIsIlVzZXJJbmZvIiwiX3RpdGxlIiwiX2F2YXRhciIsInVzZXJBdmF0YXIiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJoYW5kbGVDb25maXJtYXRpb24iLCJfaGFuZGxlQ29uZmlybWF0aW9uIiwiX2Zvcm1FbGVtZW50IiwidXNlckluZm8iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0VXNlckluZm8iLCJyZXN1bHQiLCJzZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImNhcmRMaXN0IiwiY2FyZEVsZW1lbnQiLCJwb3B1cFBpY3R1cmUiLCJwb3B1cFdpdGhDb25maXJtYXRpb24iLCJvcGVuIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJwb3B1cEFkZENhcmQiLCJpbnB1dCIsImFkZGNhcmRzIiwibmV3Q2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwicG9wdXBQcm9maWxlMSIsImlucHV0cyIsImVkaXRQcm9maWxlIiwicG9wdXBBdmF0YXJQcm9maWxlIiwiZWRpdEF2YXRhclByb2ZpbGUiLCJjYXJkVG9EZWxldGUiLCJkZWxldGVDYXJkIiwiY2FyZCIsInZhbGlkYXRlRm9ybTEiLCJlbmFibGVWYWxpZGF0aW9uIiwidmFsaWRhdGVGb3JtMiIsImF2YXRhckZvcm1WYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==